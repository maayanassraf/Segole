---
- name: Segole deployment to minikube
  hosts: localhost
  gather_facts: False

  vars:
    base_image_name: maayanassraf/segole
    tag: 1.0.3
    ansible_become_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61373434386339666132393837373366616463643930333339336666316539396563313130656165
          3139373538306237376537303861626166373538623466610a346662343433313530396635613262
          64653966623537313366373863356139363331373438363339366361303532373838313065316266
          6230663064323866340a633064633064643233653539633232653465666536653164666633303937
          6332

  tasks:
     - name: Include dependencies install in playbook
       include_tasks: install_dependencies.yaml

     - name: Include deployment phase in playbook
       include_tasks: deploy_to_minikube.yaml

#     - name: Include monitoring phase in playbook
#       include_tasks: apply_monitoring.yaml